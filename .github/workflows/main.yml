name: Docker Android Stable
on: workflow_dispatch

jobs:
  android:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸŒ Connect Tailscale
        uses: tailscale/github-action@v2
        with:
          authkey: ${{ secrets.TAILSCALE_AUTHKEY }}
          args: --hostname=docker-android

      - name: ğŸ³ Start Docker Android
        run: |
          # Docker-based Android container start korbe
          # Etate built-in VNC thake ebong password-o set kora jay
          docker run -d -p 5900:5900 \
            --privileged \
            -e VNC_PASSWORD=android123 \
            -e DEVICE="Samsung Galaxy S10" \
            budtmo/docker-android-x86-9.0

      - name: ğŸ”’ Connection Info
        run: |
          # Container load hote 2-3 minute somoy dey
          echo "Waiting for Docker Android to initialize..."
          sleep 120
          
          TS_IP=$(tailscale ip -4)
          echo "=========================================="
          echo "âœ… ANDROID IS READY (DOCKER MODE)"
          echo "ğŸŒ IP: $TS_IP"
          echo "ğŸ”Œ Port: 5900"
          echo "ğŸ”‘ Pass: android123"
          echo "=========================================="
          
          # Runner-ke 1 ghonta active rakhar jonno
          sleep 3600
          
